<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="head::head(${title})">
</head>
<script src="assets/js/jquery.validate.min.js"></script>
<script src="assets/js/jquery.validate.messages_zh.js"></script>
<body style="overflow-x: hidden">
<form class="form-horizontal" role="form" id="validation-form" method="get">
    <div class="row">

    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label no-padding-right" for="form-field-1"> 用户名: </label>

        <div class="col-sm-4">
            <input type="text" name="username" id="form-field-1"
                   placeholder="用户名" class="col-xs-10 col-sm-7"/>
        </div>

    </div>

    <div class="space-4"></div>

    <div class="form-group">
        <label class="col-sm-4 control-label no-padding-right" for="form-field-2"> 密码: </label>

        <div class="col-sm-8">
            <input type="password" id="form-field-2" name="password"
                   placeholder="密码" class="col-xs-10 col-sm-7"/>
            <span class="help-inline col-xs-2 col-sm-5">
			    <span class="middle red">*不能为空</span>
            </span>
        </div>
    </div>
    <div class="space-4"></div>

    <div class="form-group">
        <div class="col-md-6 center">
            <button class="btn btn-info" type="button" onclick="toSave()">
                <i class="icon-ok bigger-110"></i>
                保存
            </button>
            &nbsp; &nbsp; &nbsp;
            <button class="btn" type="button" onclick="toBack()">
                <i class="icon-undo bigger-110"></i>
                返回
            </button>
        </div>
    </div>

</form>
</body>
</html>
<script>
    $(function () {
        $('#validation-form').validate({
            errorElement: 'div',
            errorClass: 'help-block',
            focusInvalid: false,
            rules: {
                email: {
                    required: true,
                    email:true
                },
                password: {
                    required: true,
                    minlength: 5
                },
                password2: {
                    required: true,
                    minlength: 5,
                    equalTo: "#password"
                },
                username: {
                    required: true
                },
                phone: {
                    required: true,
                    phone: 'required'
                },
                url: {
                    required: true,
                    url: true
                },
                comment: {
                    required: true
                },
                state: {
                    required: true
                },
                platform: {
                    required: true
                },
                subscription: {
                    required: true
                },
                gender: 'required',
                agree: 'required'
            },

            messages: {
                email: {
                    required: "Please provide a valid email.",
                    email: "Please provide a valid email."
                },
                password: {
                    required: "Please specify a password.",
                    minlength: "Please specify a secure password."
                },
                subscription: "Please choose at least one option",
                gender: "Please choose gender",
                agree: "Please accept our policy"
            },

            invalidHandler: function (event, validator) { //display error alert on form submit
                $('.alert-danger', $('.login-form')).show();
            },

            highlight: function (e) {
                $(e).closest('.form-group').removeClass('has-info').addClass('has-error');
            },

            success: function (e) {
                $(e).closest('.form-group').removeClass('has-error').addClass('has-info');
                $(e).remove();
            },

            errorPlacement: function (error, element) {
                if(element.is(':checkbox') || element.is(':radio')) {
                    var controls = element.closest('div[class*="col-"]');
                    if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
                    else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
                }
                else if(element.is('.select2')) {
                    error.insertAfter(element.siblings('[class*="select2-container"]:eq(0)'));
                }
                else if(element.is('.chosen-select')) {
                    error.insertAfter(element.siblings('[class*="chosen-container"]:eq(0)'));
                }
                else error.insertAfter(element.parent());
            },

            submitHandler: function (form) {
            },
            invalidHandler: function (form) {
            }
        });

    });

    function toBack() {
        parent.$.bootstrapBox.dialog.close();
    }

    function toSave(){
        if (!$('#validation-form').valid()) {
            return
        }else{
            parent.toSave()
        }
    }

</script>