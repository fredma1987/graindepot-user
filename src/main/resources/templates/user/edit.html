<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="head::head(${title})">
</head>
<link rel="stylesheet" th:href="@{/assets/css/bootstrapValidator.css}"/>
<script type="text/javascript" th:src="@{/assets/js/validator/bootstrapValidator.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/js/validator/bootstrapValidator.zh_CN.js}"></script>

<link th:href="@{/assets/css/bootstrap-datetimepicker.min.css}" rel="stylesheet" media="screen">
<script type="text/javascript" th:src="@{/assets/js/datetimepicker/bootstrap-datetimepicker.js}" charset="UTF-8"></script>
<script type="text/javascript" th:src="@{/assets/js/datetimepicker/bootstrap-datetimepicker.zh-CN.js}"
        charset="UTF-8"></script>

<link th:href="@{/assets/css/select/bootstrap-select.min.css}" rel="stylesheet" media="screen">
<script th:src="@{/assets/js/select/bootstrap-select.js}"></script>
<script th:src="@{/assets/js/select/defaults-zh_CN.js}"></script>


<body style="overflow-x: hidden">
<form class="form-horizontal" role="form" id="validation-form" method="get">
    <div class="form-group">
        <label class="col-sm-4 control-label no-padding-right" for="form-field-1"> 用户名: </label>

        <div class="col-sm-4">
            <input type="text" name="username"  id="form-field-1" class="form-control"
                   data-bv-notempty  th:value="${item.username}"
                   placeholder="用户名"/>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-4 control-label no-padding-right" for="form-field-2"> 真实姓名: </label>

        <div class="col-sm-4">
            <input type="text" name="relname"  id="form-field-2" class="form-control"
                   data-bv-notempty th:value="${item.relname}"
                   placeholder="真实姓名"/>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-4 control-label no-padding-right" for="birthdayStr"> 生日: </label>

        <div class="col-sm-4">
            <input size="16" type="text" name="birthdayStr" id="birthdayStr"
                   th:value="${item.birthdayStr}"
                   readonly class="form_date form-control">
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-4 control-label no-padding-right" for="password">
            <span class="red">*</span>
            密码:
        </label>

        <div class="col-sm-4">
            <input type="password" id="password" name="password"
                   placeholder="密码" class="col-sm-10 form-control"/>
           <!-- <span class="help-inline col-sm-2">
			    <span class="middle red">*不能为空</span>
            </span>-->
        </div>
        <!--<div class="col-sm-1">
            <span class="icon-question-sign bigger-130 center" data-toggle="tooltip" title="必填"></span>
        </div>-->

    </div>

    <!--<div class="form-group">
        <label class="col-sm-4 control-label no-padding-right" for="form-field-3"> 日期时间: </label>

        <div class="col-sm-4">
            <input size="16" type="text" id="form-field-3" value=""
                   readonly class="form_datetime form-control">
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-4 control-label no-padding-right" for="form-field-4"> 日期: </label>

        <div class="col-sm-4">
            <input size="16" type="text" id="form-field-4" value=""
                   readonly class="form_date form-control">
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-4 control-label no-padding-right" for="form-field-5"> 城市: </label>

        <div class="col-sm-4">
            <select  id="form-field-5" name="city"  class="form-control"  >
            </select>
        </div>
    </div>-->

    <div class="form-group">
        <div class="col-md-6 center">
            <button class="btn btn-info" type="button" onclick="toSave()" >
                <i class="icon-ok bigger-110"></i>
                保存
            </button>
            &nbsp; &nbsp; &nbsp;
            <button class="btn" type="button" onclick="toBack()">
                <i class="icon-arrow-left bigger-110"></i>
                返回
            </button>
        </div>
    </div>

</form>

</body>
</html>
<script>
    $(function () {
        $("[data-toggle='tooltip']").tooltip();
        $(".form_datetime").bootstrapDatetime();
        $(".form_date").bootstrapDate();
        $('#validation-form').bootstrapValidator({
            fields: {
                password: {
                    validators: {
                        notEmpty: {}
                    }
                },
                city:{
                    validators: {
                        notEmpty: {}
                    }
                }
            }
        });

        $("#form-field-5").bootstrapSelect({
            url: '/tableListPost',
            type: 'POST',
            valueField: 'id',
            textField: 'username',
            onSelect: function (value, item) {
                /* $("#userid").bootstrapSelect({
                 url: '/userById',
                 type: 'GET',
                 valueField: 'id',
                 textField: 'username',
                 param: {id: value}
                 });*/
            },
            onLoadSuccess: function (item,data) {
            }
        });


    });

    function toBack() {
        parent.$.bootstrapBox.dialog.close();
    }

    function toSave() {
        var t = $('form').serializeArray();
        console.log(t);
        $("#validation-form").bootstrapValidator('validate');//提交验证
        if ($("#validation-form").data('bootstrapValidator').isValid()) {//获取验证结果，如果成功，执行下面代码
            //保存ajax
            //返回页面
            parent.toSave()
        }
    }

</script>