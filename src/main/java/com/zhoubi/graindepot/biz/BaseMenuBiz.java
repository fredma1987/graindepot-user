package com.zhoubi.graindepot.biz;import com.alibaba.fastjson.JSONObject;import com.zhoubi.graindepot.base.BaseMapper;import com.zhoubi.graindepot.base.BaseService;import com.zhoubi.graindepot.bean.BaseMenu;import com.zhoubi.graindepot.entity.MenuTree;import com.zhoubi.graindepot.mapper.BaseMenuMapper;import com.zhoubi.graindepot.util.TreeUtil;import org.springframework.beans.BeanUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.ArrayList;import java.util.List;@Servicepublic class BaseMenuBiz extends BaseService<BaseMenu>  {	@Autowired	private BaseMenuMapper BaseMenuMapper;	@Override	protected BaseMapper<BaseMenu> getMapper() {		return BaseMenuMapper;	}	public List<MenuTree> getMenusByUserId(int userid, Integer parentid) {		return getMenuTree(getUserAuthorityMenuByUserId(userid), parentid);	}	public List<BaseMenu> getUserAuthorityMenuByUserId(int id){		return BaseMenuMapper.selectAuthorityMenuByUserId(id);	}	private List<MenuTree> getMenuTree(List<BaseMenu> menus, int root) {		List<MenuTree> trees = new ArrayList<MenuTree>();		MenuTree node = null;		for (BaseMenu menu : menus) {			node = new MenuTree();			BeanUtils.copyProperties(menu, node);			trees.add(node);		}		List<MenuTree> list = TreeUtil.bulid(trees, root);		return list;	}}